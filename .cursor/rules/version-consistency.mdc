---
description:
globs:
alwaysApply: false
---
# Version Consistency Rule

## ğŸ¯ **Critical Version Management**

**ALWAYS maintain version consistency across ALL files when ANY version change is made:**

### **1. ğŸš¨ Primary Version Sources (MUST MATCH):**
- `js/management.js` â†’ `this.APP_VERSION = "X.X.X - Description"`
- `index.html` â†’ Cache busting `?v=X.X.X` 
- `manifest.json` â†’ `"version": "X.X.X"`

### **2. ğŸ“ Secondary References (UPDATE IMMEDIATELY):**
- `js/ux-enhancements.js` â†’ Fallback version string
- `docs/project-management/BACKLOG.md` â†’ Current version status
- `docs/project-management/RELEASE_NOTES.md` â†’ Latest version entry
- `docs/deployment/DEPLOYMENT.md` â†’ Current version info
- `README.md` â†’ Multiple version references
- `.cursor/rules/core-context.mdc` â†’ Version status

### **3. ğŸ”„ Version Update Checklist:**

When updating from version X.X.X to X.X.Y:

**Step 1: Code Files**
- [ ] Update `js/management.js` â†’ `APP_VERSION` constant
- [ ] Update `index.html` â†’ All cache busting `?v=` parameters
- [ ] Update `manifest.json` â†’ `version` field
- [ ] Update `js/ux-enhancements.js` â†’ Fallback version string

**Step 2: Documentation**
- [ ] Add new version to migration check in `management.js`
- [ ] Update `docs/project-management/RELEASE_NOTES.md` with new entry
- [ ] Update `docs/project-management/BACKLOG.md` current status
- [ ] Update `docs/deployment/DEPLOYMENT.md` version references
- [ ] Update `README.md` all version displays
- [ ] Update `.cursor/rules/core-context.mdc` version status

**Step 3: Verification**
- [ ] Check Help modal shows correct version
- [ ] Check Settings shows correct version  
- [ ] Check browser cache busting works
- [ ] Check PWA manifest version updated

### **4. ğŸ¨ Version Naming Convention:**
- **Format**: `X.Y.Z - Brief Description`
- **Examples**:
  - `5.1.5 - Documentation Organization & Cache Improvements`
  - `5.1.4+ - Streak Calculation Fix`
  - `5.2.0 - Major Feature Update`

### **5. âš ï¸ Common Version Mistakes:**
- âŒ Updating cache busting but forgetting APP_VERSION
- âŒ Forgetting to add old version to migration check
- âŒ Inconsistent version descriptions across files
- âŒ Missing documentation updates
- âŒ Not verifying Help/Settings display correctly

### **6. ğŸ¤– AI Assistant Protocol:**
**ALWAYS search for version numbers and update ALL occurrences together.**
**NEVER update just one file - version changes are GLOBAL operations.**
